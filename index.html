<!doctype html>
<html>
    <head>
       <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>StudyTracker</title>
        <link rel="icon" type="image/ico" href="img/icon.ico" />

        <link href='http://fonts.googleapis.com/css?family=PT+Sans&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="octicons/octicons.css">
        <link rel="stylesheet" href="stylesheets/styles.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    </head>
    <body>

        <div class="wrapper">
            <div class="logo">Study Tracker</div>
            <div class="slogan">Ваш помощник в планировании и контроле занятий</div>

            <div class="download-block">
                <div class="download mac" id="download-mac">
                    <a class="download-link" href="downloads/StudyTracker_osx64.dmg" title="Загрузить для Mac">
                        <span class="mega-octicon octicon-arrow-down download-arrow"></span>
                        <span class="download-text">Загрузить для Mac</span>
                    </a>

                    <a href="downloads/StudyTracker_win64.exe" class="download-link download-link-small" title="Загрузить для Windows">
                        <span class="download-text-small">или для Windows</span>
                    </a>
                </div>
                <div class="download win" id="download-win">
                    <a class="download-link" href="downloads/StudyTracker_win64.exe" title="Загрузить для Windows">
                        <span class="mega-octicon octicon-arrow-down download-arrow"></span>
                        <span class="download-text">Загрузить для Windows</span>
                    </a>

                    <a href="downloads/StudyTracker_osx64.dmg" class="download-link download-link-small" title="Загрузить для Mac">
                        <span class="download-text-small">или для Mac</span>
                    </a>
                </div>
            </div>

            <div class="screen" id="screen"></div>

            <div class="footer">
                Связаться с разработчиком: <a href="mailto:vladimir.v.semenyuk@gmail.com">email</a>, <a href="http://www.vk.com/vladimir.semenyuk">vk.com</a>, <a href="https://github.com/VladimirSemenyuk">github</a>.
            </div>
        </div>
    </body>

    <script language="JavaScript">
        (function() {
            'use strict';

            function getRealDisplay(elem) {
                if (elem.currentStyle) {
                    return elem.currentStyle.display;
                } else if (window.getComputedStyle) {
                    var computedStyle = window.getComputedStyle(elem, null );

                    return computedStyle.getPropertyValue('display');
                }
            }

            function hide(el) {
                if (!el.getAttribute('displayOld')) {
                    el.setAttribute("displayOld", el.style.display);
                }

                el.style.display = "none";
            }

            var displayCache = {};

            function isHidden(el) {
                var width = el.offsetWidth, height = el.offsetHeight,
                        tr = el.nodeName.toLowerCase() === "tr";

                return width === 0 && height === 0 && !tr ?
                        true : width > 0 && height > 0 && !tr ? false :	getRealDisplay(el);
            }

            function toggle(el) {
                isHidden(el) ? show(el) : hide(el);
            }


            function show(el) {

                if (getRealDisplay(el) != 'none') {
                    return;
                }

                var old = el.getAttribute("displayOld");

                el.style.display = old || "";

                if ( getRealDisplay(el) === "none" ) {
                    var nodeName = el.nodeName, body = document.body, display;

                    if ( displayCache[nodeName] ) {
                        display = displayCache[nodeName];
                    } else {
                        var testElem = document.createElement(nodeName);
                        body.appendChild(testElem);
                        display = getRealDisplay(testElem);

                        if (display === "none" ) {
                            display = "block";
                        }

                        body.removeChild(testElem);
                        displayCache[nodeName] = display;
                    }

                    el.setAttribute('displayOld', display);
                    el.style.display = display;
                }
            }


            var platform = 'win';

            try {
                if (navigator.platform.toUpperCase().indexOf('MAC') !== -1) {
                    platform = 'mac';
                }
            } catch (e) {

            }

            var screenEl = document.getElementById('screen');

            screenEl.className = screenEl.className + ' ' + platform;

            var downloadEl = document.getElementById('download-' + platform);

            show(downloadEl);
        })();
    </script>
</html>